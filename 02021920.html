<!DOCTYPE html>
<html>
<head>

<title>Map</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.js"></script>
<style type="text/css">
body {
    
    margin:0px;
    
    padding:0px;
  
   
}

text1 {
font-family:"Verdana";
font-variant:small-caps;
font-size:22px;
}
ul {
    
    list-style: none;
    
    display: block;
    
    margin:0px;
    
    padding:0px;
}
ul:after {
    
    display: block;
    
    float: none;
    content: ' ';
    clear: both;
}
ul.topmenu > li {
    
    float: left;
    
    position: relative;
}
ul.topmenu > li > a {
    
    display: block;
    /* Задаю белый цвет. */
    color: #000;
    
    padding: 10px;
    text-transform:uppercase;
    text-decoration: none;
    /* Задаю цвет. */
    background-color: #FA8072;
}
ul.topmenu > li > a:hover {
    /* Задаю цвет при наведении. */
    background-color: #B22222;
}
ul.submenu {
    position: absolute;
    width: 150px;
    top: 37px;
    left:0px;
    
    display: none;
    /* Цвет — белый. */
    background-color: black;
}
ul.submenu > li {
    
    display: block;
}
ul.submenu > li > a {
    
    display: block;
   text-transform:uppercase;
    text-decoration: none;
   
    padding: 10px;
    /* Задаю цвет. */
    color: #000000;
    /* Еще цвет. */
    background-color: #FA8072;
}
ul.submenu > li > a:hover {
    /* Цвет бэкграунда при наведении. */
    background-color: #B22222;
    
    text-decoration: underline;
}
ul.topmenu > li:hover > ul.submenu {
    /* Делаю элементы блочными. */
    display: block;
}
</style>
</head>
<body>

<ul class="topmenu">
    <li><a><text1><center>административно-территориальное деление на 2 февраля 1920</center></text1></a></li>
</ul>
 <ul class="topmenu">
<li><a href="List1.html"><top>перечень изменений<top/></a>
      <ul class="submenu">
        
        <li><a href="Doc10061918.html">10 июня 1918</a></li>
<li><a href="Doc20061918.html">20 июня 1918</a></li>
<li><a href="Doc24071918.html">24 июля 1918</a></li>
<li><a href="Doc23031919.html">23 марта 1919</a></li>
<li><a href="Doc29031919.html">29 марта 1919</a></li>
<li><a href="Doc16041919.html">16 апреля 1919</a></li>
<li><a href="Doc15071919.html">15 июля 1919</a></li>
<li><a href="Doc27081919.html">27 августа 1919</a></li>
<li><a href="Doc02021920.html">2 февраля 1920</a></li>
<li><a href="Doc01041920.html">1 апреля 1920</a></li>
<li><a href="Doc27051920.html">27 мая 1920</a></li>
<li><a href="Doc12071920.html">12 июля 1920</a></li>
<li><a href="Doc04081920.html">4 августа 1920</a></li>
<li><a href="Doc11081920.html">11 августа 1920</a></li>
<li><a href="Doc12101920.html">12 октября 1920</a></li>
<li><a href="Doc22111920.html">22 ноября 1920</a></li>
<li><a href="Doc25111920.html">25 ноября 1920</a></li>
<li><a href="Doc07121920.html">7 декабря 1920</a></li>
<li><a href="Doc05011921.html">5 января 1921</a></li>
<li><a href="Doc20011921.html">20 января 1921</a></li>
<li><a href="Doc03021921.html">3 февраля 1921</a></li>
<li><a href="Doc11031921.html">11 марта 1921</a></li>
<li><a href="Doc18031921.html">18 марта 1921</a></li>
<li><a href="Doc13061921.html">13 июня 1921</a></li>
<li><a href="Doc24061921.html">24 июня 1921</a></li>
<li><a href="Doc22081921.html">22 августа 1921</a></li>
<li><a href="Doc01091921.html">1 сентября 1921</a></li>
<li><a href="Doc18101921.html">18 октября 1921</a></li>
<li><a href="Doc09011922.html">9 января 1922</a></li>
<li><a href="Doc01061922.html">1 июня 1922</a></li>
<li><a href="Doc27071922.html">27 июля 1922</a></li>
<li><a href="Doc18091922.html">18 сентября 1922</a></li>
      </ul>
    </li>
    <li><a href="01011918.html"><top>Карта<top/></a>
<ul class="submenu">
        <li><a href="Test1.html">1 января 1918</a></li>
        <li><a href="10061918.html">10 июня 1918</a></li>
<li><a href="20061918.html">20 июня 1918</a></li>
<li><a href="24071918.html">24 июля 1918</a></li>
<li><a href="23031919.html">23 марта 1919</a></li>
<li><a href="29031919.html">29 марта 1919</a></li>
<li><a href="16041919.html">16 апреля 1919</a></li>
<li><a href="15071919.html">15 июля 1919</a></li>
<li><a href="27081919.html">27 августа 1919</a></li>
<li><a href="02021920.html">2 февраля 1920</a></li>
<li><a href="01041920.html">1 апреля 1920</a></li>
<li><a href="27051920.html">27 мая 1920</a></li>
<li><a href="12071920.html">12 июля 1920</a></li>
<li><a href="04081920.html">4 августа 1920</a></li>
<li><a href="11081920.html">11 августа 1920</a></li>
<li><a href="12101920.html">12 октября 1920</a></li>
<li><a href="22111920.html">22 ноября 1920</a></li>
<li><a href="25111920.html">25 ноября 1920</a></li>
<li><a href="07121920.html">7 декабря 1920</a></li>
<li><a href="05011921.html">5 января 1921</a></li>
<li><a href="20011921.html">20 января 1921</a></li>
<li><a href="03021921.html">3 февраля 1921</a></li>
<li><a href="11031921.html">11 марта 1921</a></li>
<li><a href="18031921.html">18 марта 1921</a></li>
<li><a href="13061921.html">13 июня 1921</a></li>
<li><a href="24061921.html">24 июня 1921</a></li>
<li><a href="22081921.html">22 августа 1921</a></li>
<li><a href="01091921.html">1 сентября 1921</a></li>
<li><a href="18101921.html">18 октября 1921</a></li>
<li><a href="09011922.html">9 января 1922</a></li>
<li><a href="01061922.html">1 июня 1922</a></li>
<li><a href="27071922.html">27 июля 1922</a></li>
<li><a href="18091922.html">18 сентября 1922</a></li>
      </ul>
    </li>
<li><a href="Doc02021920.html">подробнее об изменении</a></li>
  </ul>
<script>
	leafletmap = L.map("MapContainer", {"minZoom":1, "maxZoom":9, "attributionControl":false})
	lyr = L.tileLayer(" https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png" )
	lyr.addTo(leafletmap) 
leafletmap.setView([63,121],3)
$.getJSON("https://raw.githubusercontent.com/Derkacz00/Proj1/master/02021920.geojson", function (data){
		//Layer = L.geoJson(data, {style: function(feature){
		//if (feature.properties.NAME == "Ukraine"){return {color: "blue", fillColor: "red"}}
		//else {return{color: "yellow", fillColor: "green"}}
		//}
		//Layer.addTo(leafletmap)
		
		function GetColor(i){
			if(i = 6) {return "#54278f"} 
			else if (i > 500) {return "#756bb1"} 
			else if (i > 250) {return "#9e9ac8"} 
			else if (i > 100) {return "#cbc9e2"}
		}
		
		function ZoomTo (e){
			leafletmap.fitBounds(e.target.getBounds())
		}
		
		function Highlight (e){
			e.target.setStyle({weight:3, fillOpacity:.35, color: "red"})
			e.target.bringToFront()
			updateContro12(e.target)
		}
		
		function removeHighlight (e) {
		Layer2.resetStyle (e.target)
		updateContro11()
		}
		
		function OnEach(e, Layer2){
			Layer2.on ({click: ZoomTo,
			mouseover: Highlight,
			mouseout: removeHighlight})
		}
		
		Layer2 = L.geoJson(data, {style: function(feature){return {fillColor: "pink", color: "black", fillOpacity:.65, weight:1}}, onEachFeature: OnEach})
		Layer2.addTo(leafletmap)
		
		
		var Legend = L.control({position: "bottomright"})
		Legend.onAdd = function(leafletmap){
			var divObject = L.DomUtil.create("div", "Legend")
			divObject.style.background = "lightgrey"
			divObject.style.width = "300px"
			divObject.style.height = "200px"
			
			var textObject = L.DomUtil.create("h4", "Legend")
			
			textObject.style.textAlign = "center"
			textObject.style.fontSize = "1.5em"
			textObject.style.marginTop = "5px"
			textObject.style.marginBottom = "5px"
			textObject.innerHTML = "MapLegend"
			divObject.appendChild(textObject)
			
			
			
			var textObject2 = L.DomUtil.create("h4", "Legend")
			
			textObject2.style.textAlign = "left"
			textObject2.style.fontSize = "1.2em"
			textObject2.style.marginTop = "5px"
			textObject2.style.marginLeft = "25px"
			textObject2.style.marginBottom = "5px"
			textObject2.innerHTML = "Плотность населения 2005"
			divObject.appendChild(textObject2)
			
			var elements = [0, 100, 250, 500, 1000]
			for (i in elements){
			
			var textObject3 = L.DomUtil.create("h4", "Legend")
			
		
			textObject3.innerHTML = '<i style="background: ' +GetColor(elements[i]+1) + '; width:18px; height:18px; float:left; margin-right:5px; margin-left:25px; "></i>'
			if (i < elements.length-1){textObject3.innerHTML += elements[i] + " - " + elements[parseFloat(i)+1]}
			else {textObject3.innerHTML += "> " + elements[i]}
			textObject3.style.fontSize = "1.2em"
			textObject3.style.marginTop = "2px"
		
			textObject3.style.marginBottom = "2px"
		
			divObject.appendChild(textObject3)
			
			
			}
			
			return divObject
		}
		
		
		
		var InfoControl = L.control({position:"topright"})
		
		InfoControl.onAdd = function(leafletmap) {
		divObject2 = L.DomUtil.create("div", "InfoControl")
		divObject2.style.background = "lightgrey"
			divObject2.style.width = "300px"
			divObject2.style.height = "200px"
			
			divObject2.style.textAlign = "center"
			divObject2.style.fontSize = "1.3em"
			updateContro11()
			
		return divObject2
		}
		
		function updateContro11(){
		divObject2.innerHTML = "Наведите курсор на регион для дополонительной информации"
		}
		function updateContro12(file){
		divObject2.innerHTML = "Регион:  " + file.feature.properties.name
		divObject2.innerHTML += "</br>Административный центр:  " + file.feature.properties.capital
		divObject2.innerHTML += "</br>Крупные города:  " + file.feature.properties.cities
		divObject2.innerHTML += "</br>Площадь:  " + file.feature.properties.square + " кв. верст"
		divObject2.innerHTML += "</br>Население:  " + file.feature.properties.popul + " тыс. чел."
		}
		
		InfoControl.addTo(leafletmap)
})

</script>




</body>
</html>
